<Window x:Class="Atelie.CartWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Корзина" Height="600" Width="900"
        WindowStartupLocation="CenterOwner">
    <Grid Background="#F5F5F5" Margin="0,0,-115,0">
        <Label Content="Ваша корзина" HorizontalAlignment="Center" VerticalAlignment="Top"
               FontSize="36" FontWeight="Bold" Foreground="#2C3E50" Margin="0,20,0,0" />

        <Grid Margin="0,0,2,0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="3*"/>
                <ColumnDefinition Width="2*"/>
            </Grid.ColumnDefinitions>

            <!-- Левая часть - список товаров в корзине -->
            <ListView Name="CartListView" Margin="20,100,20,100" Grid.Column="0">
                <ListView.View>
                    <GridView>
                        <GridViewColumn Header="Название" DisplayMemberBinding="{Binding Title}" Width="200"/>
                        <GridViewColumn Header="Цена" DisplayMemberBinding="{Binding Price}" Width="100"/>
                        <GridViewColumn Width="150">
                            <GridViewColumn.CellTemplate>
                                <DataTemplate>
                                    <Button Content="Удалить" Background="#E74C3C" Foreground="White" BorderBrush="#C0392B" BorderThickness="1" 
                                            Padding="10,5" Click="RemoveItemButton_Click"/>
                                </DataTemplate>
                            </GridViewColumn.CellTemplate>
                        </GridViewColumn>
                    </GridView>
                </ListView.View>
            </ListView>

            <!-- Сообщение, если корзина пуста -->
            <TextBlock Name="NoItemsText" Text="Ваша корзина пуста. Перейдите в магазин для добавления товаров." 
                       FontSize="16" Foreground="#E74C3C" HorizontalAlignment="Center" VerticalAlignment="Center" Visibility="Collapsed"/>

            <!-- Правая часть - расчеты и данные карты -->
            <StackPanel Grid.Column="1" Margin="20,100,20,100" VerticalAlignment="Top">
                <TextBlock Text="Расчеты" FontSize="24" FontWeight="Bold" Foreground="#2C3E50" Margin="0,0,0,20"/>

                <TextBlock Text="Сумма товаров:" FontSize="18" Foreground="#2C3E50"/>
                <TextBlock Name="TotalAmountText" FontSize="18" Foreground="#2C3E50" Margin="0,0,0,10"/>

                <TextBlock Text="Налог (5%):" FontSize="18" Foreground="#2C3E50"/>
                <TextBlock Name="TaxAmountText" FontSize="18" Foreground="#2C3E50" Margin="0,0,0,10"/>

                <TextBlock Text="Итог:" FontSize="18" FontWeight="Bold" Foreground="#2C3E50"/>
                <TextBlock Name="FinalAmountText" FontSize="24" FontWeight="Bold" Foreground="#2C3E50" Margin="0,0,0,20"/>

                <!-- Сообщение, если карта не добавлена -->
                <TextBlock Name="NoCardText" Text="Пожалуйста, добавьте карту." 
                           FontSize="10" Foreground="#E74C3C" HorizontalAlignment="Center" Margin="0,20,0,10" Visibility="Collapsed"/>

                <StackPanel Name="CardDetailsPanel" Visibility="Collapsed">
                    <TextBlock Text="Данные карты" FontSize="24" FontWeight="Bold" Foreground="#2C3E50" Margin="0,20,0,10"/>

                    <TextBlock Text="Номер карты:" FontSize="18" Foreground="#2C3E50"/>
                    <TextBlock Name="CardNumberText" FontSize="18" Foreground="#2C3E50" Margin="0,0,0,10"/>

                    <TextBlock Text="Имя владельца:" FontSize="18" Foreground="#2C3E50"/>
                    <TextBlock Name="CardHolderNameText" FontSize="18" Foreground="#2C3E50" Margin="0,0,0,10"/>

                    <TextBlock Text="Срок действия:" FontSize="18" Foreground="#2C3E50"/>
                    <TextBlock Name="ExpiryDateText" FontSize="18" Foreground="#2C3E50" Margin="0,0,0,20"/>
                </StackPanel>
            </StackPanel>

            <Button Content="Оформить заказ" HorizontalAlignment="Center" VerticalAlignment="Bottom"
                    Width="200" Height="50" Background="#27AE60" Foreground="White" BorderBrush="#2ECC71"
                    BorderThickness="1" Margin="0,0,0,30" FontSize="18" Click="CheckoutButton_Click"/>
        </Grid>
    </Grid>
</Window>
